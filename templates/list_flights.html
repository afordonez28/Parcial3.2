{% extends "base.html" %}
{% block content %}
<h2>Vuelos disponibles</h2>
<table>
    <tr>
        <th>ID</th><th>Origen</th><th>Destino</th><th>Fecha</th><th>Disponible</th><th>Asientos</th><th>Reservar</th>
    </tr>
    {% for f in flights %}
    <tr>
        <td>{{ f.id }}</td>
        <td>{{ f.origen }}</td>
        <td>{{ f.destino }}</td>
        <td>{{ f.fecha }}</td>
        <td>{{ "SÃ­" if f.disponible else "No" }}</td>
        <td>{{ f.asientos }}</td>
        <td>
            {% if f.disponible and f.asientos > 0 %}
            <form method="post" action="/reserve_from_list" style="display:inline;">
                <input type="hidden" name="flight_id" value="{{ f.id }}">
                Usuario: <input type="number" name="user_id" required style="width:60px">
                Mascota: <input type="number" name="pet_id" required style="width:60px">
                <button type="submit">Reservar</button>
            </form>
            {% else %}
            No disponible
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}